<div class="col-sm-12">
	<div class="panel panel-default">
		<div class="panel-heading">
			<span class="panel_label">ADS-B Traffic</span> 
			<span ng-show="ConnectState == 'Connected'" class="label label-success">{{ConnectState}}</span>
			<span ng-hide="ConnectState == 'Connected'" class="label label-danger">{{ConnectState}}</span>
		</div>
		<div class="panel-body traffic-page">
			<div class="row">
				<div class="col-sm-5">
					<span class="col-xs-3"><strong>Callsign</strong></span>
					<span class="col-xs-3 text-right"><strong>Speed</strong></span>
					<span class="col-xs-3 text-right"><strong>Altitude</strong></span><span class="col-xs-1 col-padding-shift-right">&nbsp;</span>
					<span class="col-xs-2 text-right"><strong>Course</strong></span>
				</div>
				<div class="col-sm-7">
					<span class="col-xs-2">&nbsp;</span>
					<span class="col-xs-4" ng-hide="GPS_connected && RelDist"><strong>Location</strong></span>
					<span class="col-xs-2" ng-show="GPS_connected && RelDist"><strong>Dist (NM)</strong></span>
					<span class="col-xs-2" ng-show="GPS_connected && RelDist"><strong>Bearing</strong></span>
					<span class="col-xs-2"><strong>Power (dB)</strong></span>
					<span class="col-xs-2 text-right"><strong>Fix Age</strong></span>
				</div>
			</div>

			<div class="row" ng-repeat="aircraft in data_list | orderBy: 'dist'">
				<div class="separator"></div>
				<div class="col-sm-5">
					<span class="col-xs-3">
						<div class="row">
							<span ng-show="aircraft.tail" ng-class="'label traffic-style'+aircraft.src+aircraft.targettype" style="font-size:80%">{{aircraft.addr_symb}}<strong>&nbsp;{{aircraft.tail}}</strong></span>
							<span ng-hide="aircraft.tail" ng-class="'label traffic-style'+aircraft.src+aircraft.targettype" style="font-size:80%">{{aircraft.addr_symb}}<strong class="text-muted">&nbsp;[unknown]</strong></span>
						</div>
						<div class="row" style="margin:auto; font-size:70%" ng-hide="showSquawk">{{aircraft.addr_type == 3 ? "TFID" : "ICAO"}}:&nbsp;{{aircraft.icao}}</div>
						<div class="row" style="margin:auto; font-size:70%" ng-show="showSquawk">Squawk:&nbsp;<span ng-show="aircraft.squawk < 1000">0</span><span ng-show="aircraft.squawk < 100">0</span><span ng-show="aircraft.squawk < 10">0</span>{{aircraft.squawk}}</div>
					</span>

					<span class="col-xs-3 text-right">{{aircraft.speed}} KTS</span>
					<span class="col-xs-3 text-right">{{aircraft.alt}}</span>
					<span class="col-xs-1 small col-padding-shift-right text-muted">
						<span ng-show="aircraft.vspeed > 0"><span class="fa fa-ascent"></span>{{aircraft.vspeed}}</span>
						<span ng-show="aircraft.vspeed < 0"><span class="fa fa-descent"></span>{{0-aircraft.vspeed}}</span>
					</span>
					<span class="col-xs-2 text-right"><span ng-show="aircraft.heading < 10">0</span><span ng-show="aircraft.heading < 100">0</span>{{aircraft.heading}}&deg;</span>
				</div>
				<div class="col-sm-7">
					<span class="col-xs-2">&nbsp;</span>
					<span class="col-xs-4" ng-hide="GPS_connected && RelDist">{{aircraft.lat}} {{aircraft.lon}}</span>
					<span class="col-xs-2" ng-show="GPS_connected && RelDist">{{aircraft.dist.toFixed(1)}}</span>
					<span class="col-xs-2" ng-show="GPS_connected && RelDist">{{aircraft.bearing}}&deg;</span>
					<span class="col-xs-2">{{aircraft.signal.toFixed(2)}}</span>
					<!--<span class="col-xs-3 text-right">{{aircraft.time}}</span>-->
					<span class="col-xs-2 text-right">{{aircraft.age.toFixed(1)}}s</span>
				</div>
			</div>
		</div>

		<div class="panel-body traffic-footer">
			<div class="separator"></div>
			<div class="row">
				<div class="col-sm-4">
					<label class="control-label col-xs-6">Show Squawk</label>
					<div class="col-xs-1">
						<ui-switch ng-model='showSquawk' settings-change></ui-switch>
					</div>
				</div>
				<div class="col-sm-4">
					<label class="control-label col-xs-6">GPS Status:</label>
					<div ng-class="GPS_connected ? 'fa fa-check-circle text-success' : 'fa fa-times-circle text-danger'"></div>
				</div>
				<div class="col-sm-4">
					<label class="control-label col-xs-6">Show Distance</label>
					<div class="col-xs-1">
						<ui-switch ng-model='RelDist' settings-change></ui-switch>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<div class="panel panel-default">
		<div class="panel-heading">
			<span class="panel_label">Non-ADS-B Traffic</span> 
		</div>
		<div class="panel-body traffic-page">
			<div class="row">
				<div class="col-sm-5">
					<span class="col-xs-3"><strong>Callsign</strong></span>
					<span class="col-xs-3 text-right"><strong>Speed</strong></span>
					<span class="col-xs-3 text-right"><strong>Altitude</strong></span><span class="col-xs-1 col-padding-shift-right">&nbsp;</span>
					<span class="col-xs-2 text-right"><strong>Course</strong></span>
				</div>
				<div class="col-sm-7">
					<span class="col-xs-2">&nbsp;</span>
					<span class="col-xs-4"><strong>Squawk</strong></span>
					<span class="col-xs-2"><strong>Power (dB)</strong></span>
					<span class="col-xs-2 text-right"><strong>Age</strong></span>
				</div>
			</div>

			<div class="row" ng-repeat="aircraft in data_list_invalid | orderBy: 'icao'">
				<div class="separator"></div>
				<div class="col-sm-5">
					<span class="col-xs-3">
						<div class="row">
							<span ng-show="aircraft.tail" ng-class="'label traffic-style'+aircraft.src+aircraft.targettype" style="font-size:80%">{{aircraft.addr_symb}}<strong>&nbsp;{{aircraft.tail}}</strong></span>
							<span ng-hide="aircraft.tail" ng-class="'label traffic-style'+aircraft.src+aircraft.targettype" style="font-size:80%">{{aircraft.addr_symb}}<strong class="text-muted">&nbsp;[unknown]</strong></span>
						</div>
						<div class="row" style="margin:auto; font-size:70%">ICAO:&nbsp;{{aircraft.icao}}</div>
					</span>

					<span class="col-xs-3 text-right">{{aircraft.speed}} KTS</span>
					<span class="col-xs-3 text-right">{{aircraft.alt}}</span>
					<span class="col-xs-1 small col-padding-shift-right text-muted">
						<span ng-show="aircraft.vspeed > 0"><span class="fa fa-ascent"></span>{{aircraft.vspeed}}</span>
						<span ng-show="aircraft.vspeed < 0"><span class="fa fa-descent"></span>{{0-aircraft.vspeed}}</span>
					</span>
					<span class="col-xs-2 text-right"><span ng-show="aircraft.heading < 10">0</span><span ng-show="aircraft.heading < 100">0</span>{{aircraft.heading}}&deg;</span>
				</div>
				<div class="col-sm-7">
					<span class="col-xs-2">&nbsp;</span>
					<span class="col-xs-4"><span ng-show="aircraft.squawk < 1000">0</span><span ng-show="aircraft.squawk < 100">0</span><span ng-show="aircraft.squawk < 10">0</span>{{aircraft.squawk}}</span>
					<span class="col-xs-2">{{aircraft.signal.toFixed(2)}}</span>
					<!--<span class="col-xs-3 text-right">{{aircraft.time}}</span>-->
					<span class="col-xs-2 text-right">{{aircraft.ageLastAlt.toFixed(1)}}s</span>
				</div>
			</div>
		</div>

		<div class="panel-body traffic-footer">
			<div class="separator"></div>
			<span class ="col-sm-12 small">Targets in this section are Mode S / UAT emitters, but are not transmitting a valid ADS-B position. They will not appear on your EFB map. See help page for details.</span>
		</div>
		

		<!--
		<div class="panel-body traffic-footer">
			<div class="separator"></div>
			<div class="row">
				<div class="col-sm-6 label_adj">
					<span class="col-xs-4"><strong>Stratux Clock:</strong></span>
					<span class="col-xs-8">{{Clock}}</span>
				</div>
				<div class="col-sm-6 label_adj">
					<span class="col-xs-4"><strong>Device Clock:</strong></span>
					<span class="col-xs-8">{{LocalClock}}</span>
				</div>
			</div>
		</div>
		-->
	</div>
</div>

<!--
<div class="col-sm-12">
	<div class="panel panel-default">
		<div class="panel-heading">Raw Traffic Data</div>
		<div class="panel-body">
			<pre>{{raw_data}}</pre>
		</div>
	</div>
</div>
-->
